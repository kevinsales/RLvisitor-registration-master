{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Visitor Registration System</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <link
      rel="icon"
      type="image/x-icon"
      href="{% static 'images/ateneo.png' %}"
    />
    <meta name="generator" content="Hugo 0.79.0" />

    <!-- <link href="{% static '/M3App/form-validation.css' %}" rel="stylesheet"> -->

    <!-- Bootstrap core CSS -->
    <!-- bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta3/dist/css/bootstrap-select.min.css"
    />
    <!-- Font: Poppins -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap"
      rel="stylesheet"
    />

    <!-- Bootstrap Icons -->
    <link href="{% static 'styles.css' %}" rel="stylesheet" />

    <!-- Custom styles for this template -->
    <link href="{% static 'openpos/form-validation.css' %}" rel="stylesheet" />
    <style>
      body,
      html {
        height: 100%;
        margin: 0;
      }
      .sidebar {
        height: 95vh; /* Full height of the viewport */
        /* Fixed Sidebar (stay in place on scroll) */
        position: fixed;
        width: 16.666666%; /* 2/12 columns */
        background-color: #fff; /* Adjust the color as needed */
        border-radius: 14px;
        margin-top: 0;
      }
      .card {
        margin-bottom: 20px; /* Adds space between cards */
        border-radius: 15px !important;
      }

      .container-with-line {
        position: relative; /* Needed for absolute positioning of the pseudo-element */
        text-align: center; /* Center the image */
      }

      .container-with-line img {
        display: inline-block; /* Image as inline-block */
        vertical-align: middle; /* Aligns image vertically center in the line */
      }

      .container-with-line:after {
        content: ""; /* Pseudo-element content */
        display: block; /* Pseudo-element as block level */
        width: 100%; /* Width beyond 100% of the container */
        height: 0.7px; /* Height of the line */
        background-color: #d0d0d0; /* Color of the line */
        position: absolute; /* Positioning relative to the container */
        bottom: 0; /* Position at the bottom of the container */ /* Positioning slightly to the left */
      }

      .sidebar .nav {
        background: white;
        height: 80vh;
        width: 235px;
        position: fixed;
      }

      .sidebar .nav-item {
        color: gray;
        font-weight: normal;
      }

      .sidebar .nav-link {
        display: flex;
        align-items: center;
        padding: 10px 15px;
        margin: 5px 0;
        border-radius: 5px;
        color: black !important;
        text-decoration: none;
        transition: background-color 0.3s ease, font-weight 0.3s ease,
          box-shadow 0.3s ease;
      }

      .sidebar .nav-link:hover,
      .sidebar .nav-link.active {
        background-color: #ffffff;
        font-weight: bold;
        box-shadow: 0 6px 10px rgba(0, 0, 0, 0.1);
      }

      /* Base Style for Icons */
      .sidebar .nav-link i {
        font-size: 1.5em; /* Adjust icon size as needed */
        margin-right: 10px;
        color: black; /* Keep icon color black at all times */
      }

      /* Background for Icon */
      .sidebar .nav-link .icon-bg {
        display: flex;
        justify-content: center !important;
        align-items: center !important;
        width: 35px; /* Adjust width as needed */
        height: 35px; /* Adjust height as needed */
        background-color: #fff; /* White background for icons */
        border-radius: 10%; /* Circle shape */
        line-height: 20px; /* Adjust line height to be equal to height for vertical center */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        margin-right: 10px;
        box-sizing: border-box;
      }

      /* Hover State for the Icon Background */
      .sidebar .nav-link:hover .icon-bg,
      .sidebar .nav-link.active .icon-bg {
        background-color: #bd9609; /* Gold color for the background */
      }

      /* Hover State for the Icon */
      .sidebar .nav-link:hover i,
      .sidebar .nav-link.active i {
        color: white; /* White color for the icon */
      }

      .bi {
        margin: 0;
        padding: 0;
        line-height: 35px;
      }

      .text-at-bottom {
        position: absolute; /* Position your text absolutely within the .card */
        bottom: 0; /* Align it to the bottom */
        width: 100%; /* Ensure it spans the full width of the card */
        padding: 10px; /* Add some padding */
        box-sizing: border-box; /* Include padding in the width for consistent sizing */
      }

      .card-body {
        padding-bottom: 60px; /* Adjust the value based on the height of your absolutely positioned text */
      }
    </style>
  </head>

  <body style="background-color: #00274f">
    {% if user.is_authenticated %}
    <div class="container-fluid h-100" style="padding: 30px">
      <div class="row" style="min-height: 500px">
        <div class="col-2 p-0 sidebar">
          <!-- Sidebar content -->
          <div
            class="sidebar card"
            style="border-radius: 15px; border-bottom: 1px #999"
          >
            <div class="container-with-line">
              <img
                src="{% static 'images/library.jpg' %}"
                alt="Logo"
                style="
                  height: 80px;
                  width: 55%;
                  margin-left: auto;
                  margin-right: auto;
                  border-bottom: 0.8px solid #d0d0d0;
                "
                alt="Descriptive Text"
              />
            </div>
            <div>
              <ul class="nav flex-column">
                <li class="nav-item">
                  <a href="{% url 'librarian_dashboard' %}" class="nav-link">
                    <span class="icon-bg"
                      ><i class="bi bi-grid-1x2-fill col-5"></i
                    ></span>
                    Dashboard
                  </a>
                </li>
                <li class="nav-item">
                  <a
                    href="{% url 'librarian_check_request' %}"
                    class="nav-link"
                  >
                    <span class="icon-bg"
                      ><i class="bi bi-clipboard2-check-fill col-5"></i
                    ></span>
                    Request Status
                  </a>
                </li>
                <li class="nav-item">
                  <a
                    href="{% url 'librarian_visitor_record' %}"
                    class="nav-link"
                  >
                    <span class="icon-bg"
                      ><i class="bi bi-folder-fill col-5"></i
                    ></span>
                    Visitor Record
                  </a>
                </li>
                <li class="nav-item">
                  <a href="{% url 'librarian_event_record' %}" class="nav-link">
                    <span class="icon-bg"
                      ><i class="bi bi-calendar-date-fill col-5"></i
                    ></span>
                    Event Record
                  </a>
                </li>
              </ul>
              <p
                id="userName"
                class="text-at-bottom text-center mt-10 pt-10"
                style="font-weight: bold; color: #a17e00; font-style: italic"
              ></p>
            </div>
          </div>
          <!-- You can add more cards or content here -->
        </div>
        <div class="col-10 offset-2">
          <!-- Main content -->
          {% block content %} {% endblock %}
          <!--  -->
        </div>
      </div>
      {% else %}
      <p>Go to /login page to login</p>
      {% endif %}
    </div>

    <!-- jquery -->
    <script
      src="https://code.jquery.com/jquery-3.6.1.min.js"
      integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
      crossorigin="anonymous"
    ></script>

    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js"
      integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"
      crossorigin="anonymous"
    ></script>
    <script>
      // Your JavaScript code goes here
      document.querySelectorAll(".sidebar .nav-link").forEach(function (link) {
        link.addEventListener("click", function (e) {
          // Remove 'active' class from all links
          document
            .querySelectorAll(".sidebar .nav-link")
            .forEach(function (lnk) {
              lnk.classList.remove("active");
            });
          // Add 'active' class to the clicked link
          e.currentTarget.classList.add("active");
        });
      });
    </script>
  </body>
</html>
